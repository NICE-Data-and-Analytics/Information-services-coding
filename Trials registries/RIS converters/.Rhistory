#Reformat all the dates with lubridate, then add titles or 'not stated' where NA
#mutate(`Start Date`=format(mdy(`Start Date`),"%B %Y"))%>%
#mutate(`Primary Completion Date`=format(mdy(`Primary Completion Date`),"%B %Y")) %>%
#mutate(`Completion Date`=format(mdy(`Completion Date`),"%B %Y")) %>%
#mutate(`Start Date` = str_replace_na(`Start Date`, "Not stated")) %>%
#mutate(`Start Date` = str_replace(`Start Date`, "^", "**Primary completion date:** ")) %>%
#mutate(`Primary Completion Date` = str_replace_na(`Primary Completion Date`, "Not stated")) %>%
#mutate(`Primary Completion Date` = str_replace(`Primary Completion Date`, "^", "**Primary completion date:** ")) %>%
#mutate(`Completion Date` = str_replace_na(`Completion Date`, "Not stated")) %>%
#mutate(`Completion Date` = str_replace(`Completion Date`, "^", "**Study completion date:** "))
#TH - think the stuff below still needs tidying but it does work at the moment
#df$Results_URL <- c("https://clinicaltrials.gov/ct2/show/results/")
#df$Results_URL <- paste0("**Results**: [Available](https://clinicaltrials.gov/ct2/show/results/", df$`NCT Number`,")")
#df$Results_URL[df$`Study Results` !="Has Results"]<-paste0("**Results**: Not available at clinicaltrials.gov")
# An (unsuccessful) attempt to create a new, blank column to effectively act as our line break when we export to Word. Not currently working.
#df$blank <-c("\\")
#df <- select(df, Title, `NCT Number`, `Other IDs`, Phases, MoP, Population, Enrollment, `Outcome Measures`, Status, `Start Date`, `Primary Completion Date`, `Completion Date`, Results_URL, blank)
#kable(df[1:14], col.names = NULL)
View(df)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
# Import packages. Double check if any of these are extraneous at the end
library(kableExtra)
library(knitr)
library(tidyverse)
library(lubridate)
library(here)
#Import CSV file - we'll need to modify this like Rob did so that it interacts with Shiny once we're done tidying everything.
df <- read_csv("ISRCTN_Hodgkin.csv")
#Create a new dataframe from the existing one. We'll carry out multiple edits so that every entry ends up in the text format we want to output in our final Markdown doc.
df <- df %>%
# First, we'll make put a copy of the NCT number in a new field called Results_URL. This will be used later to construct links to the study results, where they exist. All other transformations appear in the order they will appear in the final Word doc.
mutate(URL_test = `ISRCTN`)
View(df)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
# Import packages. Double check if any of these are extraneous at the end
library(kableExtra)
library(knitr)
library(tidyverse)
library(lubridate)
library(here)
#Import CSV file - we'll need to modify this like Rob did so that it interacts with Shiny once we're done tidying everything.
df <- read_csv("ISRCTN_Hodgkin.csv")
#Create a new dataframe from the existing one. We'll carry out multiple edits so that every entry ends up in the text format we want to output in our final Markdown doc.
df <- df %>%
# First, we'll make put a copy of the NCT number in a new field called Results_URL. This will be used later to construct links to the study results, where they exist. All other transformations appear in the order they will appear in the final Word doc.
mutate(URL = `ISRCTN`)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
# Import packages. Double check if any of these are extraneous at the end
library(kableExtra)
library(knitr)
library(tidyverse)
library(lubridate)
library(here)
#Import CSV file - we'll need to modify this like Rob did so that it interacts with Shiny once we're done tidying everything.
df <- read_csv("ISRCTN_Hodgkin.csv")
#Create a new dataframe from the existing one. We'll carry out multiple edits so that every entry ends up in the text format we want to output in our final Markdown doc.
df <- df %>%
# First, we'll make put a copy of the NCT number in a new field called Results_URL. This will be used later to construct links to the study results, where they exist. All other transformations appear in the order they will appear in the final Word doc.
mutate(URL = `ISRCTN`)
df$URL <- c("https://www.isrctn.com/")
View(df)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
# Import packages. Double check if any of these are extraneous at the end
library(kableExtra)
library(knitr)
library(tidyverse)
library(lubridate)
library(here)
#Import CSV file - we'll need to modify this like Rob did so that it interacts with Shiny once we're done tidying everything.
df <- read_csv("ISRCTN_Hodgkin.csv")
#Create a new dataframe from the existing one. We'll carry out multiple edits so that every entry ends up in the text format we want to output in our final Markdown doc.
df <- df %>%
# First, we'll make put a copy of the NCT number in a new field called Results_URL. This will be used later to construct links to the study results, where they exist. All other transformations appear in the order they will appear in the final Word doc.
mutate(URL = `ISRCTN`)
df$URL <- paste0("**Results**: [Available](https://www.isrctn.com/", df$`ISRCTN`,")")
View(df)
View(df)
knitr::opts_chunk$set(warning = FALSE, message = FALSE)
# Import packages. Double check if any of these are extraneous at the end
library(kableExtra)
library(knitr)
library(tidyverse)
library(lubridate)
library(here)
#Import CSV file - we'll need to modify this like Rob did so that it interacts with Shiny once we're done tidying everything.
df <- read_csv("ISRCTN_Hodgkin.csv")
